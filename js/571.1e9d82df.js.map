{"version":3,"file":"js/571.1e9d82df.js","mappings":"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","sources":["webpack://amaliyot1/./src/views/ViewLogin.vue","webpack://amaliyot1/./src/use/login-form.js","webpack://amaliyot1/./src/views/ViewLogin.vue?89a5"],"sourcesContent":["<template>\n  <form class=\"card\" @submit.prevent=\"onSubmit\">\n    <h1>Tizimga Kirish</h1>\n    <div :class=\"['form-control',{invalid:eError}]\">\n      <label for=\"email\" class=\"\">Email</label>\n      <input type=\"email\" id=\"email\" v-model=\"email\" @blur=\"eBlur\">\n      <small v-if=\"eError\">{{eError}}</small>\n    </div>\n    <div :class=\"['form-control',{invalid:pError}]\">\n      <label for=\"password\" class=\"\">Password</label>\n      <input type=\"password\" id=\"password\" v-model=\"password\" @blur=\"pBlur\">\n      <small v-if=\"pError\">{{pError}}</small>\n    </div>\n    <button class=\"btn primary\" :disabled=\"isSubmitting || urinishSoni\">Kirish</button>b\n    <br>\n    <div class=\"text-danger\" v-if=\"urinishSoni\">Tizimga kirish urinishlar soni kop</div>\n  </form>\n</template>\n\n<script>\n  import {useLoginForm} from \"@/use/login-form\";\n  import {useStore} from \"vuex\";\n  import {useRoute} from \"vue-router\";\n  import {error} from \"@/utils/error\";\n\n  export default {\n      setup(){\n\n\n        const store = useStore()\n        const rotue = useRoute()\n        if(rotue.query.message== 'auth'){\n          store.dispatch('setMessage',{\n            type:'warning',\n            value:error(rotue.query.message)\n          })\n        }\n          return{\n            ...useLoginForm()\n          }\n      }\n  }\n</script>\n<style scoped>\n  h1{\n    color: #222222;\n  }\n  input{\n    font-weight: bold;\n    color: blue;\n    font-size: 19px;\n  }\n</style>\n","import {useField,useForm} from 'vee-validate'\r\nimport * as yup from 'yup'\r\nimport {computed,watch} from 'vue'\r\nimport {useStore} from \"vuex\";\r\nimport {useRouter} from \"vue-router\";\r\n\r\nexport function useLoginForm() {\r\n        const store = useStore()\r\n        const router = useRouter()\r\n\r\n        const {handleSubmit,isSubmitting,submitCount} = useForm()\r\n        const {value:email,errorMessage:eError, handleBlur:eBlur} = useField('email',yup\r\n            .string()\r\n            .trim()\r\n            .required('Login kiritilishi shart')\r\n            .email('Emailni togri kiriting')\r\n        )\r\n        const {value:password,errorMessage:pError, handleBlur:pBlur} = useField('password',yup\r\n            .string()\r\n            .trim()\r\n            .required('Parol kiritilishi shart')\r\n            .min(6,'Parol 6 ta elementdan kam bolmasligi shart')\r\n        )\r\n\r\n        const onSubmit = handleSubmit(async values => {\r\n            console.log(values)\r\n            try {\r\n                store.dispatch('auth/login',values)\r\n                router.push('/')\r\n            }\r\n            catch (e) {\r\n                throw new Error()\r\n            }\r\n        })\r\n\r\n        const urinishSoni = computed(()=>submitCount.value>=3)\r\n\r\n        watch(urinishSoni, (val) =>{\r\n            if(val){\r\n                setTimeout( ()=>{submitCount.value = 0},5000)\r\n            }\r\n        })\r\n        return{\r\n            email,\r\n            eError,\r\n            eBlur,\r\n            password,\r\n            pError,\r\n            pBlur,\r\n            onSubmit,\r\n            isSubmitting,\r\n            urinishSoni\r\n        }\r\n\r\n}","import { render } from \"./ViewLogin.vue?vue&type=template&id=5c12762d&scoped=true\"\nimport script from \"./ViewLogin.vue?vue&type=script&lang=js\"\nexport * from \"./ViewLogin.vue?vue&type=script&lang=js\"\n\nimport \"./ViewLogin.vue?vue&type=style&index=0&id=5c12762d&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\amaliyot1\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5c12762d\"]])\n\nexport default __exports__"],"names":["_createElementVNode","for","class","_createElementBlock","onSubmit","_ctx","_hoisted_1","invalid","_hoisted_2","type","id","$event","onBlur","_hoisted_3","_toDisplayString","_hoisted_4","_hoisted_5","disabled","_hoisted_6","_hoisted_8","useLoginForm","store","useStore","router","useRouter","handleSubmit","isSubmitting","submitCount","useForm","value","email","errorMessage","eError","handleBlur","eBlur","useField","yup","trim","required","password","pError","pBlur","min","async","console","log","values","dispatch","push","e","Error","urinishSoni","computed","watch","val","setTimeout","setup","rotue","useRoute","query","message","error","__exports__","render"],"sourceRoot":""}